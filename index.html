<!DOCTYPE html>
<html>
	<head>
		<title>Wells Fargo Data Analytics Challenge</title>
		<link rel="stylesheet" type="text/css" href="style/reset.css">
		<link rel="stylesheet" type="text/css" href="style/main.css">
		<!--<link rel="icon" type="img/png" href="style/favicon.png" style="width:30px;">-->
		<!-- IMPORTED SCRIPTS -->
		<!-- NEED GOOGLE FONTS LATER -->
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
		<style>



		</style>
	</head>

	<body>

		<h1>Wells Fargo Data Analytics Challenge</h1>

		<!-- NATIVE SCRIPTS -->
		<script type="text/javascript" src="data/stringified.js"></script>
		<!-- ______________ -->

		<script type="text/javascript">

			var fileURL = 'https://c7bc5a3a1eec525091f717ca9c0611b2d48ebf9f-www.googledrive.com/host/0B5EZCXdq2crRbG94TGhuNk1tcU0';
			//var fileURL = 'http://localhost:8000/data/sample-data.txt';
			//var fileURL = 'http://localhost:8000/data/social-media-data.txt';

			/*for(var f = 0; f < 100; f++){
				console.log(fullData[f]);
				var obj = JSON.parse(fullData[f]);
				console.log(obj);
			}*/

			$.get(fileURL, function(data){
				var textData = data;
				console.log('started');
				var lines = data.split("\n");
				var fileSize = lines.length;
				//var fileSize = 100;
				document.write("[");
				for(var i = 0; i < 100; i++){
					var values = lines[i*100].split("|");
					var json = {
						id: values[0],
						date: values[1],
						year: values[2],
						month: values[3],
						source: values[4],
						text: values[5]
					}
					//console.log(json);
					var stringified = JSON.stringify(json);
					//console.log(stringified);
					document.write(stringified);
					document.write(",");
					console.log(i);
				}
				document.write("]");
				console.log('ended');
			});
			
			/*xhrDoc = new XMLHttpRequest();
			xhrDoc.open('GET', fileURL, 'async');
			if(xhrDoc.overrideMimeType){
				xhrDoc.overrideMimeType('text/plain; charset=x-user-defined');
			}
			xhrDoc.onreadystatechange = function(){
				if(this.readyState == 4){
					if(this.status == 200){
						var data = this.response;
						console.log(data);
					}
				}
			}
			xhrDoc.send();*/

			console.log("LOADED MAIN");

		</script>
		
	</body>
</html>